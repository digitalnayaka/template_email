(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["role"],{c338:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"",color:"teal",dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.$router.go(-1)}}},[a("v-icon",[e._v("mdi-arrow-left-circle")])],1)],1),a("v-data-table",{key:e.key,staticClass:"elevation-1",attrs:{headers:e.headers,items:e.roles,"items-per-page":20,search:e.search,"footer-props":{itemsPerPageOptions:[20,50,100,-1]},dense:""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",dense:"",color:"grey lighten-2"}},[a("v-btn",{staticClass:"ma-2",attrs:{color:"green",outlined:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",{attrs:{large:"",left:""}},[e._v("mdi-plus")]),e._v("Add ")],1),a("v-spacer"),a("v-text-field",{attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("form",[a("v-text-field",{style:{display:"none"},attrs:{label:"ID"},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}}),a("v-text-field",{attrs:{outlined:"",label:"Role Name",rules:e.formRules},model:{value:e.editedItem.role_name,callback:function(t){e.$set(e.editedItem,"role_name",t)},expression:"editedItem.role_name"}})],1)])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),-1==e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.storeItem}},[e._v("Save")]):a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.updateItem}},[e._v("Update")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v("mdi-delete")])]}}])},[a("alert")],1)],1)},o=[],n=(a("c975"),a("a434"),a("d3b7"),a("5530")),s=a("2f62"),l=a("c1df"),d=a.n(l),r={name:"Role",components:{Alert:function(){return a.e("alert").then(a.bind(null,"98ab"))}},data:function(){return{headers:[{text:"ID",value:"id"},{text:"Role Name",value:"role_name"},{text:"Action",value:"action"}],roles:[],dialog:!1,search:"",key:0,editedIndex:-1,editedItem:{},defaultItem:{id:"",role_name:""},formRules:[function(e){return!!e||"Field is required"}],valid:!0,datetime:(new Date).toISOString()}},computed:Object(n["a"])({formTitle:function(){return-1===this.editedIndex?"New Role":"Edit Role"}},Object(s["c"])({user:"auth/user"})),methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({setAlert:"alert/set"})),{},{timestamp:function(){this.datetime=d()(this.date).format("YYYY-MM-DD HH:mm:ss")},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},getRoles:function(){var e=this;this.axios.get("/setup/v1/roles").then((function(t){var a=t.data.data;e.roles=a})).catch((function(e){var t=e.responses;console.log(t)}))},storeItem:function(){var e=this,t=new FormData;t.append("role_name",this.editedItem.role_name),t.append("created_by",this.user.id),this.axios.post("/setup/v1/roles",t).then((function(t){var a=t.data.data;e.setAlert({status:!0,color:"success",text:"Data Saved"}),e.roles.push(a),e.key+=1})).catch((function(e){console.log(e)})),this.close()},editItem:function(e){this.editedIndex=this.roles.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},updateItem:function(){var e=this,t=new FormData;t.append("id",this.editedItem.id),t.append("role_name",this.editedItem.role_name),t.append("updated_by",this.user.id),t.append("updated_at",this.datetime),this.axios.put("/setup/v1/roles",t).then((function(t){var a=t.data;console.log(a),e.setAlert({status:!0,color:"success",text:"Data Updated"}),e.getRoles(),e.key+=1})).catch((function(e){console.log(e)})),this.close()},deleteItem:function(e){var t=this,a=this.roles.indexOf(e),i=confirm("Yakin akan dihapus?");1==i&&this.axios.delete("/setup/v1/roles",{data:{id:e.id}}).then((function(e){var i=e.data;console.log(i),t.setAlert({status:!0,color:"success",text:"Data Deleted"}),t.roles.splice(a,1),t.key+=1})).catch((function(e){console.log(e)}))}}),created:function(){this.getRoles(),this.timestamp()}},c=r,u=a("2877"),m=a("6544"),p=a.n(m),v=a("40dc"),f=a("8336"),h=a("b0af"),b=a("99d9"),x=a("62ad"),g=a("a523"),I=a("8fea"),k=a("169a"),_=a("4bd4"),y=a("132d"),V=a("0fd9"),w=a("2fa4"),D=a("8654"),O=a("71d9"),R=Object(u["a"])(c,i,o,!1,null,null,null);t["default"]=R.exports;p()(R,{VAppBar:v["a"],VBtn:f["a"],VCard:h["a"],VCardActions:b["a"],VCardTitle:b["d"],VCol:x["a"],VContainer:g["a"],VDataTable:I["a"],VDialog:k["a"],VForm:_["a"],VIcon:y["a"],VRow:V["a"],VSpacer:w["a"],VTextField:D["a"],VToolbar:O["a"]})}}]);
//# sourceMappingURL=role.feb0fc08.js.map